

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Configuration &mdash; Table Stacker v0.1 documentation</title>
    <link rel="stylesheet" href="_static/default.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '',
        VERSION:     '0.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="Table Stacker v0.1 documentation" href="index.html" />
    <link rel="next" title="Customization" href="customization.html" />
    <link rel="prev" title="Getting started" href="gettingstarted.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="customization.html" title="Customization"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="gettingstarted.html" title="Getting started"
             accesskey="P">previous</a> |</li>
        <li><a href="index.html">Table Stacker v0.1 documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="configuration">
<h1>Configuration<a class="headerlink" href="#configuration" title="Permalink to this headline">¶</a></h1>
<p>Each published table is drawn from a CSV file you provide and styled according to the rules outlined in a configuration file written in <a class="reference external" href="http://en.wikipedia.org/wiki/YAML">YAML</a>.</p>
<p>CSV files are stored in the <tt class="docutils literal"><span class="pre">csv</span></tt> folder in the root directory.</p>
<p>YAML configuration files are stored in the <tt class="docutils literal"><span class="pre">yaml</span></tt> folder, with one configuration per file.</p>
<div class="section" id="example">
<h2>Example<a class="headerlink" href="#example" title="Permalink to this headline">¶</a></h2>
<p>Here is an example YAML configuration that specifies how to layout <a class="reference external" href="http://table-stacker.appspot.com/major-us-coal-mines-2009/">this demonstration table</a>.</p>
<div class="highlight-python"><pre>table:
  title: Major U.S. coal mines, 2009
  file:  major-us-coal-mines-2009.csv
  slug: major-us-coal-mines-2009
  byline: Ben Welsh
  description: &lt;p&gt;A list of the largest coal-producing U.S. mines for the year 2009. The U.S. Energy Information Administration reports the production of all mines that produce more than 4 million short tons. In 2009, 47 mines qualified by the list. All together, major mines produced more than 650 million short tons of coal, a majority of the roughly 1 billion total short tons unearthed across the nation. Wyoming mines dominate the list, filling out the first nine positions.&lt;/p&gt;
  column_options:
    columns:
      - Mine
      - Company
      - Type
      - State
      - Production (Short tons)
    style:
      Mine: 'text-align:left; width:250px;'
      Company: 'text-align:left; width:250px;'
      Type: "width:80px;"
      State: "width:100px;"
    sorted_by:
      - Production (Short tons): descending
    formatting:
      Production (Short tons):
        method: intcomma
  is_published: true
  publication_date: 2011-01-12
  sources: &lt;a href="http://www.eia.doe.gov/cneaf/coal/page/acr/acr_sum.html"&gt;U.S. Energy Information Administration&lt;/a&gt;
  credits: &lt;a href="mailto:ben.welsh@latimes.com"&gt;Ben Welsh&lt;/a&gt;
  tags:
    - Coal
    - Energy
    - Mines
    - Business</pre>
</div>
</div>
<div class="section" id="metadata-options">
<h2>Metadata Options<a class="headerlink" href="#metadata-options" title="Permalink to this headline">¶</a></h2>
<p>The following YAML configuration options detail how to present a number of attributes about the table. All entries should be placed inside a dictionary titled <tt class="docutils literal"><span class="pre">table</span></tt>.</p>
<div class="section" id="title">
<h3>title<a class="headerlink" href="#title" title="Permalink to this headline">¶</a></h3>
<p>The headline that will appear in lists and at the top of the table&#8217;s detail page. Required.</p>
<p>Example:</p>
<div class="highlight-python"><pre>title: Major U.S. coal mines, 2009</pre>
</div>
</div>
<div class="section" id="file">
<h3>file<a class="headerlink" href="#file" title="Permalink to this headline">¶</a></h3>
<p>The name of the CSV file the table will be based on. It should be in the <tt class="docutils literal"><span class="pre">csv</span></tt> directory with a header row included. Required.</p>
<p>Example:</p>
<div class="highlight-python"><pre>file: major-us-coal-mines-2009.csv</pre>
</div>
</div>
<div class="section" id="slug">
<h3>slug<a class="headerlink" href="#slug" title="Permalink to this headline">¶</a></h3>
<p>A string that serves as the unique identifier of the table in the database and doubles as the relative url of its web page. It cannot be used for more than one table in your database. It&#8217;s recommended that you do not use spaces or strange characters. Required.</p>
<p>Example:</p>
<div class="highlight-python"><pre>file: major-us-coal-mines-2009</pre>
</div>
</div>
<div class="section" id="byline">
<h3>byline<a class="headerlink" href="#byline" title="Permalink to this headline">¶</a></h3>
<p>The name or list of names that will appear as a byline in lists and on the table&#8217;s detail page. Optional.</p>
<p>Example:</p>
<div class="highlight-python"><pre>byline: Russ Stanton
# Or ...
byline: Bob Woodard and Carl Bernstein</pre>
</div>
</div>
<div class="section" id="description">
<h3>description<a class="headerlink" href="#description" title="Permalink to this headline">¶</a></h3>
<p>A block of text describing the table that will appear above the table on its detail page. HTML can and should be included. Optional.</p>
<p>Example:</p>
<div class="highlight-python"><pre>description: &lt;p&gt;A list of the largest coal-producing U.S. mines for the year 2009.&lt;/p&gt;</pre>
</div>
</div>
<div class="section" id="is-published">
<h3>is_published<a class="headerlink" href="#is-published" title="Permalink to this headline">¶</a></h3>
<p>A boolean <tt class="docutils literal"><span class="pre">true</span></tt> or <tt class="docutils literal"><span class="pre">false</span></tt> that indicates whether the table should be published. If set to <tt class="docutils literal"><span class="pre">false</span></tt>, the table will be loaded in the database but will not appear on the site. Required.</p>
<p>Example:</p>
<div class="highlight-python"><pre>is_published: true</pre>
</div>
</div>
<div class="section" id="publication-date">
<h3>publication_date<a class="headerlink" href="#publication-date" title="Permalink to this headline">¶</a></h3>
<p>The date that will appear alongside with the byline. Should be provided in <tt class="docutils literal"><span class="pre">YYYY-MM-DD</span></tt> format. Required.</p>
<p>Example:</p>
<div class="highlight-python"><pre>publication_date: 2011-01-12</pre>
</div>
</div>
<div class="section" id="sources">
<h3>sources<a class="headerlink" href="#sources" title="Permalink to this headline">¶</a></h3>
<p>A block of text describing where the data came from. Will appear at the bottom of the table detail page after the phrase <tt class="docutils literal"><span class="pre">Sources:</span></tt>. HTML can and should be included. Optional.</p>
<p>Example:</p>
<div class="highlight-python"><pre>sources: &lt;a href="http://www.eia.doe.gov/cneaf/coal/page/acr/acr_sum.html"&gt;U.S. Energy Information Administration&lt;/a&gt;</pre>
</div>
</div>
<div class="section" id="credits">
<h3>credits<a class="headerlink" href="#credits" title="Permalink to this headline">¶</a></h3>
<p>A block of text listing all the people who helped make the page. Will appear at the bottom of the table detail page after the phrase <tt class="docutils literal"><span class="pre">Credits:</span></tt>. HTML can and should be included. Optional.</p>
<p>Example:</p>
<div class="highlight-python"><pre>credits: &lt;a href="mailto:russ.stanton@latimes.com"&gt;Russ Stanton&lt;/a&gt;
# Or ...
credits: Bob Woodward and Carl Bernstein</pre>
</div>
</div>
<div class="section" id="tags">
<h3>tags<a class="headerlink" href="#tags" title="Permalink to this headline">¶</a></h3>
<p>A list of blog-style tags that apply to the table. Will appear in a list at the bottom of the table&#8217;s detail page and be used to generate lists that connect this table to similar tables. Optional.</p>
<p>Example:</p>
<div class="highlight-python"><pre>tags:
  - Coal
  - Energy
  - Mines
  - Business</pre>
</div>
</div>
</div>
<div class="section" id="column-options">
<h2>Column Options<a class="headerlink" href="#column-options" title="Permalink to this headline">¶</a></h2>
<p>The following YAML configuration options specify how to present the columns in the data table. They should appear as entries in a dictionary titled <tt class="docutils literal"><span class="pre">column_options</span></tt>.</p>
<div class="section" id="columns">
<h3>columns<a class="headerlink" href="#columns" title="Permalink to this headline">¶</a></h3>
<p>A list of the columns from the CSV that should appear in the published table. They will appear in the order specified here. Key names should correspond to headers in the CSV file. Optional.</p>
<p>Example:</p>
<div class="highlight-python"><pre>columns:
  - Mine
  - Company
  - Type
  - State
  - Production (Short tons)</pre>
</div>
</div>
<div class="section" id="style">
<h3>style<a class="headerlink" href="#style" title="Permalink to this headline">¶</a></h3>
<p>A dictionary that specifies custom CSS to be applied to columns in the data table. CSS declarations should be included just as they would in an HTML <tt class="docutils literal"><span class="pre">style</span></tt> attribute. Key names should correspond to headers in the CSV file. Optional.</p>
<p>Example:</p>
<div class="highlight-python"><pre>style:
  Mine: 'text-align:left; width:250px;'
  Company: 'text-align:left; width:250px;'
  Type: "width:80px;"
  State: "width:100px;"</pre>
</div>
</div>
<div class="section" id="sorted-by">
<h3>sorted_by<a class="headerlink" href="#sorted-by" title="Permalink to this headline">¶</a></h3>
<p>A single item list that specifies which column that table should be sorted by default, and which directions. Key names should correspond to headers in the CSV file. The direction can be either <tt class="docutils literal"><span class="pre">ascending</span></tt> or <tt class="docutils literal"><span class="pre">descending</span></tt>. Optional.</p>
<p>Example:</p>
<div class="highlight-python"><pre>sorted_by:
  - Production (Short tons): descending</pre>
</div>
</div>
<div class="section" id="formatting">
<span id="formatting-option"></span><h3>formatting<a class="headerlink" href="#formatting" title="Permalink to this headline">¶</a></h3>
<p>A dictionary that specifies formatting methods to be applied to all rows in a particular column. Each entry should include the column&#8217;s name, followed by a dictionary requesting a particular method and, if necessary, identifing other columns to be passed in arguments. Optional.</p>
<p>Available methods:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">dollars</span></tt>: Converts an number to a string containing commas every three digits with a dollar sign at the front.</li>
<li><tt class="docutils literal"><span class="pre">intcomma</span></tt>: Converts an integer to a string containing commas every three digits.</li>
<li><tt class="docutils literal"><span class="pre">link</span></tt>: Wraps a string in an HTML hyperlink. The URL from another column passed as an argument.</li>
<li><tt class="docutils literal"><span class="pre">percentage</span></tt>: Multiplies a float by 100, converts it to a string and follows it with a percentage sign. Defaults to one decimal place.</li>
<li><tt class="docutils literal"><span class="pre">percent_change</span></tt>: Converts a float into a percentage value with a + or - on the front and a percentage sign on the back. Defauls to one decimal place. Zero division errors should print out as &#8220;N/A.&#8221;</li>
<li><tt class="docutils literal"><span class="pre">title</span></tt>: Converts a string into titlecase.</li>
</ul>
<p>Custom methods can be added by following the instructions in the <a class="reference internal" href="customization.html#data-formatting"><em>customization</em></a> section.</p>
<p>Example:</p>
<div class="highlight-python"><pre>formatting:
  Employees Affected:
    method: intcomma
  Company Name:
    method: title
  Title:
    method: link
    argument: url</pre>
</div>
</div>
<div class="section" id="per-page">
<h3>per_page<a class="headerlink" href="#per-page" title="Permalink to this headline">¶</a></h3>
<p>How many records should appear in each page of the data table. 20 by default. Optional.</p>
<p>Example:</p>
<div class="highlight-python"><pre>per_page: 50</pre>
</div>
</div>
<div class="section" id="show-download-links">
<h3>show_download_links<a class="headerlink" href="#show-download-links" title="Permalink to this headline">¶</a></h3>
<p>Whether download links for CSV, XLS and JSON data should be made available on the table detail page. The default is true, so you only need to include it when you want to turn downloads off.</p>
<p>Example:</p>
<div class="highlight-python"><pre>show_download_links: false</pre>
</div>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Configuration</a><ul>
<li><a class="reference internal" href="#example">Example</a></li>
<li><a class="reference internal" href="#metadata-options">Metadata Options</a><ul>
<li><a class="reference internal" href="#title">title</a></li>
<li><a class="reference internal" href="#file">file</a></li>
<li><a class="reference internal" href="#slug">slug</a></li>
<li><a class="reference internal" href="#byline">byline</a></li>
<li><a class="reference internal" href="#description">description</a></li>
<li><a class="reference internal" href="#is-published">is_published</a></li>
<li><a class="reference internal" href="#publication-date">publication_date</a></li>
<li><a class="reference internal" href="#sources">sources</a></li>
<li><a class="reference internal" href="#credits">credits</a></li>
<li><a class="reference internal" href="#tags">tags</a></li>
</ul>
</li>
<li><a class="reference internal" href="#column-options">Column Options</a><ul>
<li><a class="reference internal" href="#columns">columns</a></li>
<li><a class="reference internal" href="#style">style</a></li>
<li><a class="reference internal" href="#sorted-by">sorted_by</a></li>
<li><a class="reference internal" href="#formatting">formatting</a></li>
<li><a class="reference internal" href="#per-page">per_page</a></li>
<li><a class="reference internal" href="#show-download-links">show_download_links</a></li>
</ul>
</li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="gettingstarted.html"
                        title="previous chapter">Getting started</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="customization.html"
                        title="next chapter">Customization</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="_sources/configuration.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" size="18" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="customization.html" title="Customization"
             >next</a> |</li>
        <li class="right" >
          <a href="gettingstarted.html" title="Getting started"
             >previous</a> |</li>
        <li><a href="index.html">Table Stacker v0.1 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2011, Los Angeles Times.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.0.7.
    </div>
  </body>
</html>