{% extends "base.html" %}

{% block title %}{{ object.title|safe }}{% endblock %}

{% if object.description %}
    {% block description %}{{ object.description|striptags|safe }}{% endblock %}
{% endif %}

{% block facebook %}
    {{ block.super }}
    <meta property="og:type" content="article"/>
    <meta property="og:title" content="{{ object.title|safe }}"/>
    <meta property="og:url" content="{{ object.get_absolute_url }}"/>
    {% if object.description %}
    <meta property="og:description" content="{{ object.description|striptags|safe }}"/>
    {% endif %}
{% endblock %}

{% if object.tag_list %}
    {% block keywords %}{{ object.get_keywords_list }}, {{ block.super }}{% endblock %}
{% endif %}

{% block extra-js %}
    <script src='{{ MEDIA_URL }}js/jquery.tablesorter.js' type='text/javascript'></script>
    <script src='{{ MEDIA_URL }}js/jquery.tablesorter.pager.js' type='text/javascript'></script>
    <script src='{{ MEDIA_URL }}js/jquery.tablesorter.multipagefilter.js' type='text/javascript'></script>
    <script type="text/javascript">
        /* For picking out bits from the query string */
        var getParameterByName = function(name) {
          name = name.replace(/[\[]/, "\\\[").replace(/[\]]/, "\\\]");
          var regexS = "[\\?&]" + name + "=([^&#]*)";
          var regex = new RegExp(regexS);
          var results = regex.exec(window.location.href);
          if(results == null)
            return "";
          else
            return decodeURIComponent(results[1].replace(/\+/g, " "));
        };
    </script>
    <script type="text/javascript" src="https://apis.google.com/js/plusone.js"></script>
{% endblock %}

{% block headline %}
    <div id="share">
        <ul>
            <li>
                <a data-text="" href="http://twitter.com/share" class="twitter-share-button"
                    data-count="horizontal">Tweet</a>
                <script type="text/javascript" src="http://platform.twitter.com/widgets.js"></script>
            </li>
            <li>
                <g:plusone size="medium"></g:plusone>
            </li>
            <li>
                <iframe src="http://www.facebook.com/plugins/like.php?app_id=167409373327708&amp;href&amp;send=false&amp;layout=button_count&amp;width=90&amp;show_faces=false&amp;action=like&amp;colorscheme=light&amp;font=arial&amp;height=21" scrolling="no" frameborder="0" style="border:none; overflow:hidden; width:90px; height:21px;" allowTransparency="true"></iframe>
            </li>
        </ul>
    </div>
    <h4 id="kicker">{% if object.kicker %}{{ object.kicker|safe }}{% else %}Spreadsheet{% endif %}</h4>
    <h1 id="title">{{ object.title|safe }}</h1>
{% endblock %}

{% block content %}
    <div id="table_fu">
        {% if not object.rendered_html or force %}
            {{ object.get_rendered_html|safe }}
        {% else %}
            {{ object.rendered_html|safe }}
        {% endif %}
    </div>
{% endblock %}




